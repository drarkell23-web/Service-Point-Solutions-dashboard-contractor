<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ServicePoint SA ‚Äì Contractor HQ</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="script.js" defer></script>
</head>
<body class="theme-dark">
  <div class="page-shell">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="brand-mark">S</div>
        <div class="brand-copy">
          <div class="brand-title">ServicePoint SA</div>
          <div class="brand-subtitle">Contractor HQ dashboard</div>
        </div>
      </div>

      <div class="topbar-center">
        <span class="pill pill-soft">Jobs, leads &amp; compliance in one place</span>
        <span class="pill pill-accent">Live human assistant leads</span>
        <span class="pill pill-soft">Region: KZN ¬∑ JHB ¬∑ CPT</span>
      </div>

      <div class="topbar-right">
        <button id="themeToggle" class="btn-ghost-small" type="button">
          Toggle dark / light
        </button>
      </div>
    </header>

    <!-- ACCOUNT STRIP -->
    <section class="account-strip">
      <div>
        <div class="account-label">Account</div>
        <div class="account-value">Contractor: <strong>ServicePoint network</strong></div>
        <div class="account-tags">
          <span class="tag">HQ view</span>
          <span class="tag tag-green">Live</span>
        </div>
      </div>
      <div class="account-meta">
        <span>Support: <a href="mailto:servicepoint.info@gmail.com">servicepoint.info@gmail.com</a></span>
        <span>SP ref: <strong>SP-CT-HQ</strong></span>
      </div>
    </section>

    <!-- TAB BAR -->
    <nav class="tab-bar">
      <button class="tab-btn active" data-tab="operations">
        <span class="tab-icon">üìä</span> Operations
      </button>
      <button class="tab-btn" data-tab="jobs">
        <span class="tab-icon">üóìÔ∏è</span> Jobs calendar
      </button>
      <button class="tab-btn" data-tab="leads">
        <span class="tab-icon">üë•</span> Leads &amp; clients
      </button>
      <button class="tab-btn" data-tab="finance">
        <span class="tab-icon">üí∞</span> Finance
      </button>
      <button class="tab-btn" data-tab="inbox">
        <span class="tab-icon">üí¨</span> Inbox (Admin ‚Üí You)
      </button>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="content-shell">
      <!-- OPERATIONS TAB -->
      <section class="tab-panel active" id="tab-operations">
        <header class="panel-header">
          <div>
            <h1>Operations overview</h1>
            <p>
              Live control hub for your ServicePoint jobs, leads and site teams.
            </p>
          </div>
          <div class="panel-actions">
            <button class="btn-primary" id="btnNewJob">+ New job</button>
            <button class="btn-outline" id="btnQuickLead">+ Quick ServicePoint enquiry</button>
          </div>
        </header>

        <section class="grid-3">
          <article class="card card-metric">
            <div class="metric-label">New ServicePoint leads (month)</div>
            <div class="metric-value" id="metricNewLeads">0</div>
            <div class="metric-sub">From website, WhatsApp &amp; repeat clients.</div>
          </article>

          <article class="card card-metric">
            <div class="metric-label">Jobs booked this month</div>
            <div class="metric-value" id="metricJobsBooked">0</div>
            <div class="metric-sub">
              Confirmed visits with dates in your calendar.
            </div>
          </article>

          <article class="card card-metric">
            <div class="metric-label">Quote conversion rate</div>
            <div class="metric-value" id="metricConversion">0%</div>
            <div class="metric-sub">Jobs won vs quotes sent via ServicePoint.</div>
          </article>
        </section>

        <section class="grid-2 mt-lg">
          <article class="card">
            <header class="card-header">
              <h2>Pipeline snapshot</h2>
              <span class="card-tag">Live</span>
            </header>
            <div class="pipeline-grid" id="pipelineColumns">
              <!-- Columns rendered by JS -->
            </div>
          </article>

          <article class="card">
            <header class="card-header">
              <h2>Today at a glance</h2>
            </header>
            <ul class="timeline" id="todayTimeline">
              <!-- Today items from JS -->
            </ul>
          </article>
        </section>
      </section>

      <!-- JOBS TAB -->
      <section class="tab-panel" id="tab-jobs">
        <header class="panel-header">
          <div>
            <h1>Jobs calendar</h1>
            <p>See confirmed visits and upcoming work in a simple weekly view.</p>
          </div>
          <div class="panel-actions">
            <button class="btn-outline" id="btnAddJobFromCalendar">+ Add job</button>
          </div>
        </header>

        <section class="card">
          <header class="card-header">
            <h2>This week</h2>
            <span class="card-tag" id="weekRangeLabel"></span>
          </header>
          <div class="calendar-grid" id="calendarGrid">
            <!-- Filled by JS -->
          </div>
        </section>
      </section>

      <!-- LEADS TAB -->
      <section class="tab-panel" id="tab-leads">
        <header class="panel-header">
          <div>
            <h1>Leads &amp; clients</h1>
            <p>Leads routed from ServicePoint SA. Mark status as you work them.</p>
          </div>
          <div class="panel-actions">
            <button class="btn-primary" id="btnSimLead">+ Simulate new lead</button>
          </div>
        </header>

        <section class="card">
          <header class="card-header">
            <h2>Active leads</h2>
            <span class="card-tag" id="leadCountLabel">0 open</span>
          </header>

          <div class="table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Received</th>
                  <th>Client</th>
                  <th>Service</th>
                  <th>Region</th>
                  <th>Status</th>
                  <th>Value (est.)</th>
                </tr>
              </thead>
              <tbody id="leadTableBody">
                <!-- JS rows -->
              </tbody>
            </table>
          </div>
        </section>
      </section>

      <!-- FINANCE TAB -->
      <section class="tab-panel" id="tab-finance">
        <header class="panel-header">
          <div>
            <h1>Finance snapshot</h1>
            <p>Track invoices, payments and outstanding amounts for ServicePoint jobs.</p>
          </div>
        </header>

        <section class="grid-3">
          <article class="card card-metric">
            <div class="metric-label">Invoiced (month)</div>
            <div class="metric-value" id="metricInvoiced">R0</div>
            <div class="metric-foot">Sent to clients via ServicePoint.</div>
          </article>
          <article class="card card-metric">
            <div class="metric-label">Paid (month)</div>
            <div class="metric-value" id="metricPaid">R0</div>
            <div class="metric-foot">Confirmed payments received.</div>
          </article>
          <article class="card card-metric">
            <div class="metric-label">Outstanding</div>
            <div class="metric-value" id="metricOutstanding">R0</div>
            <div class="metric-foot">Follow up on these accounts.</div>
          </article>
        </section>

        <section class="card mt-lg">
          <header class="card-header">
            <h2>Recent invoices</h2>
          </header>
          <div class="table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Invoice #</th>
                  <th>Client</th>
                  <th>Job</th>
                  <th>Amount</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="invoiceTableBody">
                <!-- JS rows -->
              </tbody>
            </table>
          </div>
        </section>
      </section>

      <!-- INBOX TAB -->
      <section class="tab-panel" id="tab-inbox">
        <header class="panel-header">
          <div>
            <h1>Inbox ‚Äì Admin ‚Üí You</h1>
            <p>Messages from ServicePoint HQ about jobs, leads and compliance.</p>
          </div>
        </header>

        <section class="card inbox-card">
          <div class="inbox-list" id="inboxList">
            <!-- Messages from JS -->
          </div>

          <aside class="inbox-side">
            <h2>Notes</h2>
            <p class="inbox-note">
              Reply to these messages via WhatsApp or email as usual ‚Äì this panel
              is for quick reference inside your dashboard.
            </p>
            <p class="inbox-note">
              To become a listed ServicePoint contractor in more regions, email:
              <br /><strong>servicepoint.info@gmail.com</strong>
            </p>
          </aside>
        </section>
      </section>
    </main>
  </div>
</body>
</html>
