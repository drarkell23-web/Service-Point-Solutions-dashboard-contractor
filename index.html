<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ServicePoint SA â€“ Contractor HQ</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="theme-dark">

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="brand">
      <div class="brand-logo">S</div>
      <div class="brand-text">
        <div class="brand-name">ServicePoint SA</div>
        <div class="brand-sub">Contractor HQ Dashboard</div>
      </div>
    </div>

    <div class="topbar-center">
      <div class="top-pill">Live jobs, leads & revenue tracking</div>
      <div class="top-pill top-pill-accent">Connected to ServicePoint HQ</div>
    </div>

    <div class="topbar-right">
      <button id="themeToggle" class="ghost-btn">Toggle Theme</button>
    </div>
  </header>

  <main class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <nav class="nav">
        <button class="nav-item active" data-view="dashboard">
          <span class="nav-icon">ðŸ“Š</span> Dashboard
        </button>
        <button class="nav-item" data-view="jobs">
          <span class="nav-icon">ðŸ§°</span> Jobs Calendar
        </button>
        <button class="nav-item" data-view="leads">
          <span class="nav-icon">ðŸ§¾</span> Leads & Clients
        </button>
        <button class="nav-item" data-view="finance">
          <span class="nav-icon">ðŸ’¸</span> Finance
        </button>
        <button class="nav-item" data-view="messages">
          <span class="nav-icon">ðŸ’¬</span> Admin Messages
        </button>
      </nav>

      <div class="sidebar-foot">
        <div class="foot-label">ACCOUNT</div>
        <p>Connected Contractor</p>
        <p>ServicePoint Network</p>
        <p>Support: <a href="mailto:servicepoint.info@gmail.com">servicepoint.info@gmail.com</a></p>
      </div>
    </aside>

    <!-- MAIN AREA -->
    <section class="main">

      <!-- DASHBOARD -->
      <section id="view-dashboard" class="view active">
        <header class="view-header">
          <h1>Operations Overview</h1>
          <p>Your live metrics for this month</p>
        </header>

        <div class="grid-3">
          <article class="stat-card">
            <div class="stat-label">New Leads</div>
            <div id="statNew" class="stat-value">0</div>
            <div class="stat-foot">From ServicePoint network</div>
          </article>

          <article class="stat-card">
            <div class="stat-label">Jobs Booked</div>
            <div id="statBooked" class="stat-value">0</div>
            <div class="stat-foot">Confirmed site jobs</div>
          </article>

          <article class="stat-card">
            <div class="stat-label">Conversion Rate</div>
            <div id="statConversion" class="stat-value">0%</div>
            <div class="stat-foot">Quotes â†’ Jobs</div>
          </article>
        </div>

        <section class="panel mt-lg">
          <header class="panel-header">
            <h2>Pipeline Breakdown</h2>
          </header>
          <div class="pipeline-grid">
            <div class="pipeline-column">
              <div class="pipeline-label">New</div>
              <div id="pipeNew" class="pipeline-count">0</div>
            </div>
            <div class="pipeline-column">
              <div class="pipeline-label">Quoted</div>
              <div id="pipeQuoted" class="pipeline-count">0</div>
            </div>
            <div class="pipeline-column">
              <div class="pipeline-label">Booked</div>
              <div id="pipeBooked" class="pipeline-count">0</div>
            </div>
            <div class="pipeline-column">
              <div class="pipeline-label">Completed</div>
              <div id="pipeCompleted" class="pipeline-count">0</div>
            </div>
          </div>
        </section>
      </section>

      <!-- JOBS -->
      <section id="view-jobs" class="view">
        <header class="view-header">
          <h1>Jobs Calendar</h1>
        </header>

        <section class="panel">
          <header class="panel-header">
            <h2>Upcoming Jobs</h2>
            <p>Next 30 days</p>
          </header>
          <table class="table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Client</th>
                <th>Service</th>
                <th>Location</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="jobsTableBody"></tbody>
          </table>
        </section>
      </section>

      <!-- LEADS -->
      <section id="view-leads" class="view">
        <header class="view-header">
          <h1>Leads</h1>
        </header>

        <section class="panel">
          <header class="panel-header panel-header-inline">
            <div>
              <h2>Incoming Leads</h2>
            </div>
            <button class="primary-btn" id="btnNewLead">+ Add Manual Lead</button>
          </header>

          <table class="table">
            <thead>
              <tr>
                <th>Received</th>
                <th>Client</th>
                <th>Service</th>
                <th>Channel</th>
                <th>Status</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody id="leadsTableBody"></tbody>
          </table>
        </section>
      </section>

      <!-- FINANCE -->
      <section id="view-finance" class="view">
        <header class="view-header">
          <h1>Finance Dashboard</h1>
        </header>

        <div class="grid-3">
          <article class="stat-card">
            <div class="stat-label">Invoiced</div>
            <div id="finInvoiced" class="stat-value">R0</div>
          </article>

          <article class="stat-card">
            <div class="stat-label">Pipeline</div>
            <div id="finPipeline" class="stat-value">R0</div>
          </article>

          <article class="stat-card">
            <div class="stat-label">Paid</div>
            <div id="finPaid" class="stat-value">R0</div>
          </article>
        </div>

        <section class="panel mt-lg">
          <header class="panel-header">
            <h2>Transactions</h2>
          </header>
          <ul id="financeLog" class="finance-log"></ul>
        </section>
      </section>

      <!-- MESSAGES -->
      <section id="view-messages" class="view">
        <header class="view-header">
          <h1>Messages from Admin</h1>
        </header>

        <section class="panel inbox-panel">
          <div class="inbox-messages" id="messageList"></div>

          <form id="messageForm" class="inbox-composer">
            <label>Reply</label>
            <textarea id="messageText"></textarea>
            <div class="inbox-actions">
              <button type="submit" class="primary-btn">Send</button>
            </div>
          </form>
        </section>
      </section>

    </section>
  </main>

  <!-- POPUP -->
  <div id="leadPopup" class="popup-bg">
    <div class="popup-box">
      <h3 class="popup-title">New Lead</h3>

      <label>Client Name</label>
      <input id="popupClientName" class="popup-input" type="text">

      <label>Service</label>
      <input id="popupService" class="popup-input" type="text">

      <label>Value (optional)</label>
      <input id="popupValue" class="popup-input" type="number">

      <div class="popup-row">
        <button id="popupCancel" class="btn-secondary">Cancel</button>
        <button id="popupSave" class="btn-primary">Save</button>
      </div>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
